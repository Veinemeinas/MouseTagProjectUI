<p-table
  #dt
  [value]="candidates"
  dataKey="id"
  [rows]="10"
  [showCurrentPageReport]="true"
  [rowsPerPageOptions]="[10, 25, 50]"
  [loading]="loading"
  styleClass="p-datatable-customers"
  [paginator]="true"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
  [globalFilterFields]="['name', 'surname']"
>
  <ng-template pTemplate="header">
    <tr>
      <th>
        <div class="p-d-flex">
          <span class="p-input-icon-left p-ml-auto">
            <i class="pi pi-search"></i>
            <input
              pInputText
              type="text"
              (input)="filterNames($event)"
              placeholder="Ieškoti"
            />
          </span>
        </div>
      </th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th>
        <p-columnFilter
          field="representative"
          matchMode="in"
          [showMenu]="false"
        >
          <ng-template pTemplate="filter" let-value let-filter="filterCallback">
            <p-multiSelect
              [options]="technologyOptions"
              placeholder="Pasirinkti"
              (onChange)="filterTechnologies($event)"
            >
            </p-multiSelect>
          </ng-template>
        </p-columnFilter>
      </th>
      <th></th>
      <th>
        <p-columnFilter type="boolean" field="available"></p-columnFilter>
      </th>
      <th></th>
      <th></th>
    </tr>
    <tr>
      <th>Kada buvo susisiekta</th>
      <th>Vardas</th>
      <th>Pavardė</th>
      <th>LinkedIn nuoroda</th>
      <th>Komentaras</th>
      <th>Technologijos</th>
      <th>Kada reikia susisiekti</th>
      <th>Ar atviras pasiūlymams</th>
      <th></th>
      <th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-candidate>
    <tr>
      <td>
        {{ candidate.whenWasContacted[0] | date: "yyyy/MM/dd" }}
      </td>
      <td>
        <span>{{ candidate.name }}</span>
      </td>
      <td>
        <span>{{ candidate.surname }}</span>
      </td>
      <td>
        <span>{{ candidate.linkedin }}</span>
      </td>
      <td>
        <span>{{ candidate.comment }}</span>
      </td>
      <td>
        <span *ngFor="let technology of candidate.technologies"
          >{{ technology.technologyName }},&nbsp;</span
        >
      </td>
      <td>
        <span>{{ candidate.willBeContacted | date: "yyyy/MM/dd" }}</span>
      </td>
      <td>
        <i
          class="pi"
          [ngClass]="{
            'true-icon pi-check-circle': candidate.available,
            'false-icon pi-times-circle': !candidate.available
          }"
        ></i>
      </td>
      <td>
        <span
          ><button
            pButton
            pRipple
            class="p-button-rounded p-button-success p-mr-2"
          >
            <span class="material-icons-sharp"> edit </span>
          </button></span
        >
      </td>
      <td>
        <span>
          <button
            pButton
            pRipple
            class="p-button-rounded p-button-warning"
            (click)="deleteCandidate(candidate)"
          >
            <span class="material-icons-sharp"> delete_forever </span>
          </button></span
        >
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="5">Nerasta tokių kandidatų</td>
    </tr>
  </ng-template>
</p-table>
